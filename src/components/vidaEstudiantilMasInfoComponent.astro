---
import SectionCarrusel from "./paginasComponents/sectionCarrusel.astro"
import SectionMapa from "./paginasComponents/sectionMapa.astro"
---
<section class="relative w-full min-h-screen bg-[#71af8d] px-60 overflow-x-hidden scroll-smooth">
  <!-- CONTENEDOR CENTRAL CON FONDO BLANCO -->
  <div class="relative max-w-[1200px] mx-auto bg-white min-h-screen px-8 pb-8 pt-60">
    
    <!-- CONTENIDO PRINCIPAL -->
    <h2 id="proyecto" class="text-3xl md:text-4xl font-bold uppercase leading-tight mb-6">
      UN PROYECTO EDUCATIVO SÓLIDO E INNOVADOR PARA LA FORMACIÓN INTEGRAL BILINGÜE
    </h2>

    <!-- TEXTO INTRODUCTORIO -->
    <div class="space-y-4 leading-relaxed text-gray-800">
      <p>
        Con el fin de aportar a Salta un Proyecto Educativo sólido e innovador, en 2016 San Isidro College abrió sus puertas a la comunidad, a través  del Diseño de un Proyecto Educativo exigente y ambicioso, de Formación Integral Bilingüe y de Orientación Católica, integrando contenidos nacionales exigidos, con programas  internacionales de altos estándares académicos.
      </p>
      <p>
        San Isidro College se propone lograr los objetivos educativos en dos idiomas. Por este motivo es que el inglés se enseña en forma intensiva a través de múltiples actividades y contenidos. Garantizamos una incorporación natural de la segunda lengua.
      </p>
      <p>
        Desde pequeños se trabaja abriendo espacios, para que cada niño y niña logre amplia comprensión y habilidad de expresión y comunicación, junto a una correcta pronunciación.
      </p>
      <p>
        Debido a las características de la zona, el establecimiento aspira a  transformarse en un núcleo de actividades escolares, recreativas, culturales y deportivas, para cumplir, así, con una función significativa y relevante, en el medio dentro del cual se halla inserto.
      </p>
      <p>
        San Isidro College fue pensado y desarrollado con los más calificados y experimentados profesionales, con el fin de ser el Proyectos Educativo más sólido de nuestro medio. Acompañados por Asesores de Salta, Bs. As. y el extranjero, quienes brindan su gran experiencia en los distintos  niveles y en el área de Inglés, con Convenios para la validación de los Exámenes Internacionales y la oportunidad de intercambios estudiantiles con importantes Colegios del extranjero.
      </p>
    </div>

    <!-- INSTALACIONES -->
    <h3 class="text-2xl md:text-3xl font-bold uppercase mt-10 mb-4 text-gray-800">
      INSTALACIONES
    </h3>
    <div class="aspect-w-16 aspect-h-9 mb-8">
      <iframe 
        class="w-full h-full rounded shadow"
        src="https://www.youtube.com/embed/VIDEO_ID" 
        title="YouTube video player" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen
      >
      </iframe>
    </div>

    <!-- MISIÓN -->
    <h3 id="mision" class="text-2xl md:text-3xl font-bold uppercase mb-4 text-gray-800">
      MISIÓN
    </h3>
    <p class="mb-8 leading-relaxed text-gray-800">
      San Isidro College es un Colegio Humanizador que ubica a la persona en primer lugar. Su misión es formar ciudadanos globales, promoviendo una educación integral que nutra el crecimiento personal, intelectual y emocional de nuestros estudiantes. Nos comprometemos a proporcionar un ambiente de aprendizaje y autonomía en el que se fomente la curiosidad, la creatividad y el pensamiento crítico. Nuestro objetivo es acompañar a nuestros estudiantes para que sean agentes de cambio en la sociedad, brindando herramientas que les permitan desarrollar habilidades, fomentando el bilingüismo y proporcionando un marco de principios basado en  el ejemplo y en valores cristianos.
    </p>

    <!-- VISIÓN -->
    <h3 id="vision" class="text-2xl md:text-3xl font-bold uppercase mb-4 text-gray-800">
      VISIÓN
    </h3>
    <p class="leading-relaxed text-gray-800 mb-4">
      Nuestra visión es formar líderes resilientes y creativos, capaces de aprovechar las oportunidades y contribuir al progreso de la sociedad en un entorno en constante cambio.
    </p>
    <p class="leading-relaxed text-gray-800">
      San Isidro College se posiciona como referente en educación en nuestra comunidad, estableciendo un estándar de excelencia y adaptándose de manera flexible a la constante transformación del mundo moderno. Creamos un entorno educativo dinámico y en constante evolución, que prepara a nuestros estudiantes para enfrentar los desafíos del siglo XXI. Nos comprometemos a proporcionar una educación de calidad, impulsada por la innovación, la tecnología y el desarrollo de habilidades relevantes. 
    </p>

    <!-- VALORES -->
    <h3 id="valores" class="text-2xl md:text-3xl font-bold uppercase my-6 text-gray-800">
      VALORES
    </h3>
    <div class="my-8 flex justify-center">
      <img
        src="/images/valores.svg"
        alt="Diagrama de valores"
        class="max-w-xs md:max-w-md"
      />
    </div>

    <!-- EDUCACIÓN PERSONALIZADA -->
    <h3 id="educacion" class="text-2xl md:text-3xl font-bold uppercase mb-2 text-gray-800">
      EDUCACIÓN PERSONALIZADA
    </h3>
    <p class="text-gray-700 italic mb-6">
      Nos proponemos generar en los alumnos el placer de concurrir al colegio
    </p>
    <p class="leading-relaxed text-gray-800 mt-4">
      De manera sistemática y diseñada trabajamos aprendizajes con valores, convirtiendo esta premisa en un eje transversal que sustente todo vínculo humano.
    </p>
    <p class="leading-relaxed text-gray-800 mt-4">
      Sostenemos que un niño/adolescente seguro y con confianza en sí mismo puede desarrollar habilidades sociales que le permiten lograr mejores vínculos gracias a la empatía y el autodominio, que en otras palabras pueden entenderse como respeto, solidaridad y amor al prójimo, y como templanza.
    </p>
    <p class="leading-relaxed text-gray-800 mt-4">
      Podrá fortalecer sus vínculos afectivos, hacerse de amigos y trabajar en equipo, sin mengua de la exigencia de los contenidos del currículum en las dos lenguas.
    </p>
    <p class="leading-relaxed text-gray-800 mt-4">
      Un estudiante que se siente escuchado  y contenido desde lo emocional, está más motivado para participar, crear, intervenir, intercambiar ideas, cuestionar, plantear problemas y arriesgarse a producir. Aprende a aprender. Porque creemos que el aprendizaje se construye, se expande y abre a la persona a otros aprendizajes.
    </p>

    <!-- ÚLTIMO PÁRRAFO (FONDO DORADO) -->
    <div class="bg-[#c9a241] text-black px-4 py-3 mt-8">
      <p class="leading-relaxed">
        San Isidro College, propone trabajar fervientemente en equipo para que todo estudiante
        se encuentre comprometido con su proyecto de vida. Para ello el aporte de la familia es fundamental.
      </p>
    </div>
  </div> <!-- Fin del contenedor blanco -->

  <!-- ASIDE SUPERPUESTO EN EL COSTADO (ESPACIO VERDE) -->
  <div class="w-1/3 relative">
    <aside id="asideMenu" class="absolute right-10 transform -translate-y-1/2 w-64 text-gray-800 z-20">
      <h3 class="text-xl font-bold uppercase mb-4">EL COLEGIO</h3>
      <ul class="space-y-3">
        <li><a href="#proyecto" class="scroll-link hover:underline transition-all duration-300">Proyecto Educativo</a></li>
        <li><a href="#mision" class="scroll-link hover:underline transition-all duration-300">Misión</a></li>
        <li><a href="#vision" class="scroll-link hover:underline transition-all duration-300">Visión</a></li>
        <li><a href="#valores" class="scroll-link hover:underline transition-all duration-300">Valores</a></li>
        <li><a href="#educacion" class="scroll-link hover:underline transition-all duration-300">Educación Personalizada</a></li>
      </ul>
    </aside>
  </div>
</section>
<SectionCarrusel />
<SectionMapa />

<script>
    document.addEventListener("DOMContentLoaded", () => {
      const carousel = document.getElementById("carousel");
      if (!carousel) return; // Evitar errores si el elemento no existe
  
      const slides = carousel.children.length;
      let index = 0;
  
      function showSlide(i: number) {
        index = (i + slides) % slides;
        if (carousel instanceof HTMLElement) {
          carousel.style.transform = `translateX(-${index * 100}%)`;
        }
      }
  
      const prevButton = document.getElementById("prev");
      const nextButton = document.getElementById("next");
  
      if (prevButton) {
        prevButton.addEventListener("click", () => showSlide(index - 1));
      }
  
      if (nextButton) {
        nextButton.addEventListener("click", () => showSlide(index + 1));
      }
  
      // Cambio automático de imagen cada 5 segundos
      setInterval(() => showSlide(index + 1), 5000);
  
      const aside = document.getElementById("asideMenu");
      if (!aside) return;
  
      const container = aside.parentElement;
      if (!container) return;
  
      const topOffset = 375; // Ajuste para que no suba demasiado
      let isFixed = false; // Variable para controlar el estado del menú
  
      const observer = new IntersectionObserver(
        ([entry]) => {
          if (!aside) return;
          if (entry.isIntersecting) {
            aside.style.position = "absolute";
            aside.style.top = `${topOffset}px`;
            isFixed = false; // Resetear estado cuando vuelve al inicio del contenedor
          } else {
            aside.style.position = "fixed";
            aside.style.top = `${topOffset}px`;
            isFixed = true; // Guardamos que está en estado "fijo"
          }
        },
        { rootMargin: "-80px 0px 0px 0px", threshold: 0 }
      );
  
      observer.observe(container);
  
      // Detectar cuando el menú llega al final del contenedor y detenerlo ahí
      function checkAsidePosition() {
        if (!container || !aside) return;
  
        const containerRect = container.getBoundingClientRect();
        const asideRect = aside.getBoundingClientRect();
  
        // Si el aside llega al final del contenedor, lo fijamos abajo
        if (asideRect.bottom > containerRect.bottom) {
          aside.style.position = "absolute";
          aside.style.top = `${container.scrollHeight - aside.clientHeight}px`;
          isFixed = false; // Cambiamos el estado a "no fijo"
        }
  
        // Si el usuario vuelve a subir al mismo punto donde se activó "fixed", restaurarlo
        if (window.scrollY < container.offsetTop && !isFixed) {
          aside.style.position = "absolute";
          aside.style.top = `${topOffset}px`;
        }
      }
  
      window.addEventListener("scroll", checkAsidePosition);
    });
</script>
  
